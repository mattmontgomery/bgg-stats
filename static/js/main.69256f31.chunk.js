(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n(57)},48:function(e,t,n){},51:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(31),s=n.n(i),l=n(14),c=n(33),o=n(4),u=n(5),m=n(8),p=n(6),f=n(7),d=n(60),b=n(61),h=n(58),y=n(9),v=n(21),E="DRAWER_ADD_GAME",O="DRAWER_REMOVE_GAME",g=function(e){return{payload:e,type:O}},j=function(e){return{payload:e,type:E}};var x=n(13),_=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Game__background"},this.props.thumbnail?r.a.createElement("img",{className:"Game__thumbnail",src:this.props.thumbnail,alt:this.props.name}):null)}}]),t}(a.PureComponent);_.displayName="GameImage";var C=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Game__info-detail"},r.a.createElement("strong",null,this.props.label,": "),r.a.createElement("span",null,this.props.render(this.props)))}}]),t}(a.PureComponent);C.displayName="GameInfo";var N=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Game__info"},r.a.Children.map(this.props.children,function(t){if(r.a.isValidElement(t)){var n="function"===typeof t.type?t.type.displayName:t.type;return r.a.cloneElement(t,Object(x.a)({},function(){switch(n){case"GameInfo":return{value:e.props[t.props.field]};default:return null}}()))}}))}}]),t}(a.PureComponent);N.displayName="GameInfoSection";var w=n(22),M=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Game__title"},r.a.createElement("a",{className:"Game__title-link",href:"http://boardgamegeek.com/boardgame/".concat(this.props.id),rel:"noopener noreferrer",target:"_blank"},this.props.name),r.a.createElement("div",{className:"Game__title-controls"},r.a.Children.map(this.props.children,function(t){if(r.a.isValidElement(t)){var n="object"===Object(w.a)(t.props)&&t.props?t.props:{};return r.a.cloneElement(t,Object(x.a)({},n,{id:e.props.id,onClick:"function"===typeof n.onClick?n.onClick.bind(null,e.props.id):null}))}})))}}]),t}(a.PureComponent);M.displayName="GameTitle";var k=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Game__year"},this.props.yearpublished)}}]),t}(a.PureComponent);k.displayName="GameYear";var T=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).renderChild=function(e){if(r.a.isValidElement(e))return r.a.cloneElement(e,Object(x.a)({name:n.props.name},function(){switch(e.type){case N:return n.props;case k:return{yearpublished:n.props.yearpublished};case M:return{id:n.props._objectid,name:n.props.name};case C:return{value:n.props[e.props.field]};case _:return{thumbnail:n.props.thumbnail};default:return null}}(),e.props))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Game"},r.a.Children.map(this.props.children,this.renderChild))}}]),t}(a.PureComponent),P=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Games"},this.props.children)}}]),t}(a.PureComponent),F=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},n.toggleDrawer=function(){n.setState({open:!n.state.open})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"GameDrawer ".concat(this.state.open?"GameDrawer--open":"GameDrawer--closed")},r.a.createElement("button",{className:"GameDrawer__toggle",onClick:this.toggleDrawer},this.state.open?"Close":"Open"),r.a.createElement(P,null,this.props.games.map(function(t,n){return r.a.createElement(T,Object.assign({key:t._collid||n},t),r.a.createElement(M,null,r.a.createElement("button",{className:"button--small",onClick:e.props.removeGame},"X")),r.a.createElement(_,null))})))}}]),t}(a.PureComponent),R=Object(l.b)(function(e){var t=e.drawer,n=e.games;return{games:t.map(function(e){return n.find(function(t){var n=t._objectid;return e===n})})}},function(e){return{removeGame:Object(y.b)(g,e)}})(F),L=function(e,t){return e.sort(function(e,n){return e[t]>n[t]?-1:e[t]<n[t]?1:0})},S=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).sortByPlays=function(){return n.props.onSort(function(e){return L(e,"numplays")})},n.sortByYear=function(){return n.props.onSort(function(e){return L(e,"yearpublished")})},n.reverseSort=function(){return n.props.onSort(function(e){return e.reverse()})},n.standardSort=function(){return n.props.onSort(function(e){return L(e,"name")})},n.randomSort=function(){return n.props.onSort(function(e){return e.sort(function(e,t){var n=Math.random();return n>.6?1:n<.4?-1:0})})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Controls"},r.a.createElement("button",{onClick:this.standardSort},"A-Z"),r.a.createElement("button",{onClick:this.reverseSort},"Z-A"),r.a.createElement("button",{onClick:this.sortByPlays},"By plays"),r.a.createElement("button",{onClick:this.sortByYear},"By year"),r.a.createElement("button",{onClick:this.randomSort},"Randomize"))}}]),t}(a.PureComponent),G=n(23),I=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={numPlayersMax:void 0,numPlayersMin:void 0,playsMax:void 0,playsMin:void 0,timeMax:void 0,timeMin:void 0,yearMax:void 0,yearMin:void 0},n.ref=Object(a.createRef)(),n.filterReset=function(){n.setState(Object(x.a)({},Object.keys(n.state).reduce(function(e,t){return e[t]=null,e},{})));n.ref&&n.ref.current&&n.ref.current.querySelectorAll("input").forEach(function(e){e.value="",e.checked=!1});n.props.onFilter(function(e){return!0})},n.filterRanges=function(){var e=n.state,t=e.numPlayersMin,a=e.numPlayersMax,r=e.yearMin,i=e.yearMax,s=e.timeMin,l=e.timeMax,c=e.playsMin,o=e.playsMax;n.props.onFilter(function(e){return(t===a||!t||(e.stats._minplayers<=t||e.stats._maxplayers===t))&&(t!==a||!t||e.stats._minplayers===t&&e.stats._maxplayers===a)&&(a===t||!a||e.stats._maxplayers>=a)&&(!r||e.yearpublished>=r)&&(!i||e.yearpublished<=i)&&(!s||e.stats._minplaytime>=s)&&(!l||e.stats._maxplaytime<=l)&&("undefined"===typeof c||e.numplays>=c)&&("undefined"===typeof o||e.numplays<=o)})},n.setRangeFilter=function(e,t){n.setState(Object(G.a)({},e,""!==t?parseInt(t,0):void 0),n.filterRanges)},n.setNamedFilter=function(e,t){n.props.onToggleFilter(e,t)},n.setRangeFilterYearMin=function(e){return n.setRangeFilter("yearMin",e.currentTarget.value)},n.setRangeFilterYearMax=function(e){return n.setRangeFilter("yearMax",e.currentTarget.value)},n.setNumPlayersMin=function(e){return n.setRangeFilter("numPlayersMin",e.currentTarget.value)},n.setNumPlayersMax=function(e){return n.setRangeFilter("numPlayersMax",e.currentTarget.value)},n.setTimeMin=function(e){return n.setRangeFilter("timeMin",e.currentTarget.value)},n.setTimeMax=function(e){return n.setRangeFilter("timeMax",e.currentTarget.value)},n.setPlaysMin=function(e){return n.setRangeFilter("playsMin",e.currentTarget.value)},n.setPlaysMax=function(e){return n.setRangeFilter("playsMax",e.currentTarget.value)},n.toggleExpansions=function(e){return n.setNamedFilter("hideExpansions",!!e.currentTarget.checked)},n.state={numPlayersMax:void 0,numPlayersMin:void 0,playsMax:void 0,playsMin:void 0,timeMax:void 0,timeMin:void 0,yearMax:void 0,yearMin:void 0},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Controls Filters",ref:this.ref},r.a.createElement("button",{onClick:this.filterReset},"Reset"),r.a.createElement("div",null,r.a.createElement("label",null,"Year"),r.a.createElement("input",{id:"yearMin",onChange:this.setRangeFilterYearMin,type:"number"})," \u2014 ",r.a.createElement("input",{id:"yearMax",onChange:this.setRangeFilterYearMax,type:"number"})),r.a.createElement("div",null,r.a.createElement("label",null,"Player Count"),r.a.createElement("input",{onChange:this.setNumPlayersMin,type:"number"})," \u2014 ",r.a.createElement("input",{onChange:this.setNumPlayersMax,type:"number"})),r.a.createElement("div",null,r.a.createElement("label",null,"Play Time"),r.a.createElement("input",{onChange:this.setTimeMin,type:"number"})," \u2014 ",r.a.createElement("input",{onChange:this.setTimeMax,type:"number"})),r.a.createElement("div",null,r.a.createElement("label",null,"Plays"),r.a.createElement("input",{onChange:this.setPlaysMin,type:"number"})," \u2014 ",r.a.createElement("input",{onChange:this.setPlaysMax,type:"number"})),r.a.createElement("div",null,r.a.createElement("label",null,"Hide expansions"),r.a.createElement("input",{defaultChecked:this.props.hideExpansions,onChange:this.toggleExpansions,type:"checkbox"})))}}]),t}(a.PureComponent),D=Object(l.b)(function(e){var t=e.filters;return Object(x.a)({},t)})(I),A=function(){return{type:"FETCH_COLLECTION",payload:{username:"moonty"}}},H=function(e){return{type:"SORT_COLLECTION",payload:e}},B=function(e){return{type:"FILTER_COLLECTION",payload:payload}},Y=function(e){return{type:"TOGGLE_FILTER",payload:e}},W=function(e){return{fetch:Object(y.b)(A,e),filter:Object(y.b)(B,e),selectGame:Object(y.b)(j,e),toggleFilter:Object(y.b)(Y,e),sort:Object(y.b)(H,e)}},X=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){0===this.props.games.length&&this.props.fetch()}},{key:"renderList",value:function(){var e=this;return r.a.createElement(P,null,this.props.games.map(function(t,n){return r.a.createElement(T,Object.assign({key:"undefined"!==typeof t._collid?t._collid:n,index:n},t),r.a.createElement(_,null),r.a.createElement(M,null,r.a.createElement("button",{className:"button--small",onClick:e.props.selectGame},"+")),r.a.createElement(N,null,r.a.createElement(C,{field:"stats",label:"Rating",render:function(e){var t=e.value.rating,n=t.average;t.bayesaverage;return"number"===typeof n?n.toFixed(3):n}}),r.a.createElement("hr",null),r.a.createElement(C,{field:"numplays",label:"Plays",render:function(e){return e.value}}),r.a.createElement(C,{field:"stats",label:"Play Time",render:function(e){var t=e.value,n=t._minplaytime,a=t._maxplaytime;return n!==a&&a?"".concat(n,"\u2013").concat(a):n}}),r.a.createElement(C,{field:"stats",label:"Players",render:function(e){var t=e.value,n=t._minplayers,a=t._maxplayers;return n!==a&&a?"".concat(n,"\u2013").concat(a):n}})),r.a.createElement(k,null))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Collection"},r.a.createElement(S,{onSort:this.props.sort}),r.a.createElement(D,{onFilter:this.props.filter,onToggleFilter:this.props.toggleFilter}),this.renderList())}}]),t}(a.PureComponent),V=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"renderList",value:function(){return r.a.createElement(P,null,this.props.games.map(function(e,t){return r.a.createElement(T,Object.assign({key:"undefined"!==typeof e._collid?e._collid:t,index:t},e),r.a.createElement(_,null),r.a.createElement(M,null),r.a.createElement(N,null,r.a.createElement(C,{field:"stats",label:"Rating",render:function(e){var t=e.value.rating,n=t.average;t.bayesaverage;return"number"===typeof n?n.toFixed(3):n}}),r.a.createElement("hr",null),r.a.createElement(C,{field:"stats",label:"Play Time",render:function(e){var t=e.value,n=t._minplaytime,a=t._maxplaytime;return n!==a&&a?"".concat(n,"\u2013").concat(a):n}}),r.a.createElement(C,{field:"stats",label:"Players",render:function(e){var t=e.value,n=t._minplayers,a=t._maxplayers;return n!==a&&a?"".concat(n,"\u2013").concat(a):n}})),r.a.createElement(k,null))}))}}]),t}(X);function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(v.a)(e).concat(Object(v.a)(n?[]:t)).sort(function(e,t){var n=e.name,a=t.name;return n>a?1:a>n?-1:0})}var J=Object(l.b)(function(e){var t=e.games,n=e.expansions,a=e.sort,r=e.filter;return{games:a(q(t,n,e.filters.hideExpansions).filter(function(e){return!!e.status._own})).filter(r)}},W)(X),Z=Object(l.b)(function(e){var t=e.games,n=e.expansions,a=e.sort,r=e.filter;return{games:a(q(t,n,e.filters.hideExpansions).filter(function(e){return!!e.status._own})).filter(r).filter(function(e){return 0===e.numplays})}},W)(X),z=Object(l.b)(function(e){var t=e.games,n=e.expansions,a=e.sort,r=e.filter;return{games:a(q(t,n,e.filters.hideExpansions).filter(function(e){var t=e.status;return!t._own&&(t._want||t._wanttobuy||t._wanttoplay)}).filter(r))}},W)(V),$=(n(48),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"Nav"},r.a.createElement(b.a,{activeClassName:"selected",exact:!0,to:"/"},"Collection"),r.a.createElement(b.a,{activeClassName:"selected",exact:!0,to:"/wishlist"},"Wishlist"),r.a.createElement(b.a,{activeClassName:"selected",exact:!0,to:"/shelf-of-shame"},"Shelf of Shame")),r.a.createElement(h.a,{path:"/",exact:!0,component:J}),r.a.createElement(h.a,{path:"/wishlist",exact:!0,component:z}),r.a.createElement(h.a,{path:"/shelf-of-shame",exact:!0,component:Z}),r.a.createElement(R,null)))}}]),t}(a.PureComponent));n(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=n(35),Q=n(28),U=n(36),ee=n.n(U),te=n(38);function ne(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return Object(x.a)({},e,{name:e.name.__text,numplays:parseInt(e.numplays),stats:Object(x.a)({},e.stats,Object.entries(e.stats).reduce(function(e,t){return e[t[0]]="string"===typeof t[1]?parseInt(t[1]):t[1],e},{}),{rating:Object(x.a)({},Object.keys(e.stats.rating).reduce(function(t,n){return t[n]="string"===typeof e.stats.rating[n]._value?parseFloat(e.stats.rating[n]._value):e.stats.rating[n],t},{}))}),status:Object.entries(e.status).reduce(function(e,t){return e[t[0]]="1"===t[1],e},{})})})}function ae(e,t){return e.name>t.name?1:t.name>e.name?-1:0}var re=Object(y.c)({drawer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case E:return e.find(function(e){return e===a})?e:Object(v.a)(e).concat([a]);case O:return e.filter(function(e){return e!==a});default:return e}},expansions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"FETCH_EXPANSIONS_DONE":return ne(a.items.item);case"FETCH_EXPANSIONS_LS":return a;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"FILTER_COLLECTION":return a;default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hideExpansions:!0},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"TOGGLE_FILTER":return Object(x.a)({},e,a);case"FILTER_RESET":return{};default:return e}},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"FETCH_COLLECTION_DONE":return ne(a.items.item);case"FETCH_COLLECTION_LS":return a;default:return e}},raw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"FETCH_COLLECTION_DONE":return{base:a};case"FETCH_EXPANSIONS_DONE":return{exp:a};default:return e}},sort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.sort(ae)},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SORT_COLLECTION":return a;default:return e}}}),ie=n(20),se=n.n(ie),le=n(17),ce=n(37),oe=n.n(ce),ue=se.a.mark(fe),me="https://www.boardgamegeek.com/xmlapi2/collection?stats=1&version=1&excludesubtype=boardgameexpansion",pe="https://www.boardgamegeek.com/xmlapi2/collection?stats=1&version=1&subtype=boardgameexpansion";function fe(e){var t,n,a,r,i,s,l,c,o,u;return se.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return e.type,t=e.payload.username,m.prev=1,n=new oe.a,a=new Request("".concat(me,"&username=").concat(t||"moonty")),m.next=6,Object(le.a)(fetch,a);case 6:if((r=m.sent).ok){m.next=9;break}throw r.statusText;case 9:return m.next=11,r.text();case 11:return i=m.sent,s=n.xml2js(i),m.next=15,Object(le.b)({type:"FETCH_COLLECTION_DONE",payload:s});case 15:return l=new Request("".concat(pe,"&username=").concat(t||"moonty")),m.next=18,Object(le.a)(fetch,l);case 18:if((c=m.sent).ok){m.next=21;break}throw c.statusText;case 21:return m.next=23,c.text();case 23:return o=m.sent,u=n.xml2js(o),m.next=27,Object(le.b)({type:"FETCH_EXPANSIONS_DONE",payload:u});case 27:m.next=32;break;case 29:m.prev=29,m.t0=m.catch(1),console.error(m.t0);case 32:case"end":return m.stop()}},ue,this,[[1,29]])}var de=se.a.mark(be);function be(){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.c)("FETCH_COLLECTION",fe);case 2:case"end":return e.stop()}},de,this)}var he=Object(te.a)(),ye={key:"root",storage:ee.a},ve=Object(K.createLogger)({}),Ee=function(){var e=Object(y.a)(he,ve)(y.d)(Object(Q.a)(ye,re));he.run(be);var t=Object(Q.b)(e);return window.Store=e,{store:e,persistor:t}}(),Oe=Ee.store,ge=Ee.persistor;s.a.render(r.a.createElement(l.a,{store:Oe},r.a.createElement(c.a,{loading:null,persistor:ge},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,2,1]]]);
//# sourceMappingURL=main.69256f31.chunk.js.map